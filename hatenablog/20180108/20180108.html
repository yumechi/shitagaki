<h1 id="_pythonのmax_min関数はkey指定による最大値_最小値を取得できる">Pythonのmax, min関数はKey指定による最大値、最小値を取得できる</h1>
<p>題名の通りなのですが、最近これやれることに気がついたので備忘録としてメモ。何処かで使うタイミングがあればいいが…（競技プログラミングで使う機会はほぼなさそうだけど… クラスをそもそも使わないので… しかしオブジェクトを定義してほげほげする問題が仮に出たとしたら需要があるかも？）</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="co">#!/usr/bin/env python</span>
<span class="co"># -*- coding: utf-8 -*-</span>


<span class="kw">class</span> Human():

    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, data):
        <span class="va">self</span>.name <span class="op">=</span> data.get(<span class="st">&#39;name&#39;</span>, <span class="st">&#39;No name man&#39;</span>)
        <span class="va">self</span>.age <span class="op">=</span> data.get(<span class="st">&#39;age&#39;</span>, <span class="dv">0</span>)
        <span class="va">self</span>.rating <span class="op">=</span> data.get(<span class="st">&#39;rating&#39;</span>, <span class="dv">0</span>)

    <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):
        information <span class="op">=</span> <span class="st">&#39;&#39;</span>
        information <span class="op">+=</span> <span class="st">&#39;name: </span><span class="sc">{0}</span><span class="ch">\n</span><span class="st">&#39;</span>.<span class="bu">format</span>(<span class="va">self</span>.name)
        information <span class="op">+=</span> <span class="st">&#39;age: </span><span class="sc">{0}</span><span class="ch">\n</span><span class="st">&#39;</span>.<span class="bu">format</span>(<span class="va">self</span>.age)
        information <span class="op">+=</span> <span class="st">&#39;rating: </span><span class="sc">{0}</span><span class="ch">\n</span><span class="st">&#39;</span>.<span class="bu">format</span>(<span class="va">self</span>.rating)
        <span class="cf">return</span> information


<span class="kw">def</span> run():
    init_data <span class="op">=</span> [
        {<span class="st">&#39;name&#39;</span>: <span class="st">&#39;yumechi&#39;</span>, <span class="st">&#39;age&#39;</span>: 2_0000_0000, <span class="st">&#39;rating&#39;</span>: <span class="dv">1200</span>},
        {<span class="st">&#39;name&#39;</span>: <span class="st">&#39;umechi&#39;</span>,  <span class="st">&#39;age&#39;</span>: <span class="dv">17</span>, <span class="st">&#39;rating&#39;</span>: <span class="dv">1475</span>},
        {<span class="st">&#39;name&#39;</span>: <span class="st">&#39;bomechi&#39;</span>, <span class="st">&#39;age&#39;</span>: <span class="dv">63</span>, <span class="st">&#39;rating&#39;</span>: <span class="dv">953</span>},
        {<span class="st">&#39;name&#39;</span>: <span class="st">&#39;amechi&#39;</span>,  <span class="st">&#39;age&#39;</span>: <span class="dv">40</span>, <span class="st">&#39;rating&#39;</span>: <span class="dv">18</span>},
        {<span class="st">&#39;name&#39;</span>: <span class="st">&#39;umechi&#39;</span>,  <span class="st">&#39;age&#39;</span>: <span class="dv">23</span>, <span class="st">&#39;rating&#39;</span>: <span class="dv">1890</span>},
        {<span class="st">&#39;name&#39;</span>: <span class="st">&#39;kamechi&#39;</span>, <span class="st">&#39;age&#39;</span>: <span class="dv">95</span>, <span class="st">&#39;rating&#39;</span>: <span class="dv">20000</span>},
    ]

    humans <span class="op">=</span> []
    <span class="cf">for</span> elem <span class="kw">in</span> init_data:
        humans.append(Human(elem))

    <span class="co"># if you add no key, python raise exception</span>
    <span class="co"># keyを設定しないと例外が発生する</span>
    <span class="co"># noinfo_max_human = max(humans)</span>

    max_rating_human <span class="op">=</span> <span class="bu">max</span>(humans, key<span class="op">=</span><span class="kw">lambda</span> human: human.rating)
    <span class="bu">print</span>(<span class="st">&#39;max rating human&#39;</span>)
    <span class="bu">print</span>(max_rating_human)

    min_rating_human <span class="op">=</span> <span class="bu">min</span>(humans, key<span class="op">=</span><span class="kw">lambda</span> human: human.rating)
    <span class="bu">print</span>(<span class="st">&#39;min rating human&#39;</span>)
    <span class="bu">print</span>(min_rating_human)

    max_age_human <span class="op">=</span> <span class="bu">max</span>(humans, key<span class="op">=</span><span class="kw">lambda</span> human: human.age)
    <span class="bu">print</span>(<span class="st">&#39;max age human&#39;</span>)
    <span class="bu">print</span>(max_age_human)

    min_age_human <span class="op">=</span> <span class="bu">min</span>(humans, key<span class="op">=</span><span class="kw">lambda</span> human: human.age)
    <span class="bu">print</span>(<span class="st">&#39;min age human&#39;</span>)
    <span class="bu">print</span>(min_age_human)


<span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:
    run()</code></pre></div>
<p>実行結果こんな感じ</p>
<pre class="text"><code>max rating human
name: kamechi
age: 95
rating: 20000

min rating human
name: amechi
age: 40
rating: 18

max age human
name: yumechi
age: 200000000
rating: 1200

min age human
name: umechi
age: 17
rating: 1475</code></pre>
